<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Confirm Tutor | From the Heart Tutoring</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../Navbar/Navbar.css"> <!-- Link to navbar CSS -->
    <link rel="stylesheet" href="../Progress/Progress.css">
    <link rel="stylesheet" href="../CSS/Button.css">
    <link rel="stylesheet" href="../Footer/Footer.css">
    <link rel="stylesheet" href="../CSS/FishnetBackground.css"> 
    <style>
        body {
            margin: 0;
            font-family: 'Poppins', sans-serif;
            background-color: #f9f9f9;
        }
        

    
.hero {
    background-color: #1e293b;
    color: white;
    padding: 40px 5vw 20px; /* Adjust padding dynamically */
    text-align: center;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: center;
    min-height: 220px;
    max-height: auto;
    overflow: hidden;
}

.hero h1 {
    font-size: clamp(1.8rem, 3vw, 2.2rem); /* Dynamically adjusts based on width */
    margin-bottom: 10px;
    font-weight: 600;
    line-height: 1.2;
    max-width: 80%; /* Ensures proper width scaling */
}

.hero p {
    font-size: clamp(1rem, 2vw, 1.1rem); /* Responsive font size */
    max-width: 700px;
    margin: 0 auto;
    line-height: 1.5;
}


        .container {
    width: 100%; /* Full width of the page */
    max-width: 900px; /* Increases the card's maximum width */
    margin: 30px auto; /* Centers the container horizontally and adds vertical spacing */
    display: flex; /* Enables flexbox for easy centering */
    justify-content: center; /* Horizontally centers the card */
}

.tutor-card {
    background-color: white;
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    display: flex;
    align-items: center;
    gap: 20px; /* Adds space between the image and the text */
    margin-bottom: 20px;
    width: 100%; /* Fills the width of the container */
    max-width: 850px; /* Makes the card wider */
}



.staff-image {
    width: 100px; /* Adjusted size for better proportion */
    height: 100px;
    border-radius: 50%;
    object-fit: cover;
    flex-shrink: 0; /* Ensures the image doesn't shrink when resizing */
}

.tutor-info {
    flex-grow: 1; /* Allows the text to take the remaining space */
}

.tutor-info h3 {
    font-size: 1.5rem; /* Larger font for better readability */
    color: #1e293b;
    margin: 0;
}

.tutor-info p {
    font-size: 1rem; /* General text size */
    color: #555;
    margin: 5px 0 0;
    line-height: 1.5; /* Improves readability for the text */
}

.tutor-info p {
    font-size: 1rem; /* General text size for the list */
    color: #555;
    margin: 5px 0 0;
    line-height: 1.5; /* Improves readability for long lists */
}

.tutor-info p::before {
    content: "Teaches:"; /* Dynamically adds "Subjects:" */
    display: inline-block;
    background-color: #1e293b; /* Highlighted background */
    color: white; /* Text color for contrast */
    font-size: 0.9rem; /* Slightly smaller than the list */
    font-weight: bold; /* Makes it stand out */
    padding: 3px 8px; /* Creates a badge-like effect */
    border-radius: 12px; /* Rounded design */
    margin-right: 8px; /* Space between "Subjects:" and the list */
    vertical-align: middle; /* Aligns with the list text */
}




        .buttons-container {
            display: flex;
            justify-content: center;
            gap: 10px; /* Add space between buttons */
            margin-top: 30px;
        }


        .button {
            background-color: #ff6f61;
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.3s;
        }

        .button:hover {
            background-color: #d9574e;
            transform: scale(1.05);
        }
        
        
        /* Progress Dots */
        .progress {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }
        .dot {
            width: 20px;
            height: 20px;
            margin: 0 8px;
            background-color: #d1d1d1;
            border-radius: 50%;
        }

        .dot.active {
            background-color: #ff6f61;
        }
        .error-container {
    display: flex;
    flex-direction: column;
    align-items: center; /* Centers the error message and button horizontally */
    justify-content: center; /* Centers the content vertically */
    margin-top: 20px; /* Adds spacing above the error section */
}

#error-message {
    color: #ff6f61; /* Vibrant red color for the error message */
    font-weight: bold; /* Makes the message stand out */
    text-align: center; /* Center-aligns the text */
    margin-bottom: 30px; /* Adds spacing between the error message and the button */
}

.different-tutor-btn {
    background-color: #ff6f61;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    transition: background-color 0.3s, transform 0.3s;
}

.different-tutor-btn:hover {
    background-color: #d9574e; /* Darker red on hover */
    transform: scale(1.05); /* Slightly larger on hover */
}



    </style>
</head>
<body>
    <!-- Navbar Placeholder -->
    <div id="navbar-placeholder"></div>

    <!-- JavaScript to Load Navbar -->
    <script src="../Navbar/Navbar.js" defer></script>
    <!-- Hero Section -->
    <div class="hero">
        <h1>Tutor Confirmation</h1>
        <p>You have already selected <strong id="tutor-name">[Tutor Name]</strong>.</p>
        <div class="subjects" id="selected-subjects"></div>
        <div class="error-container">
            <p id="error-message"></p>
            <button id="different-tutor-btn" class="square-button" style="display: none;">Schedule with a Different Tutor</button>
        </div>

    </div>
    <div class="progress-steps">
        <div class="step-container">
            <div class="step">1</div>
        </div>
        <div class="step-container">
            <div class="step">2</div>
        </div>
        <div class="step-container">
            <div class="step">3</div>
        </div>
        <div class="step-container">
            <div class="step">4</div>
        </div>
    </div>
    <script src="../Progress/Progress.js"></script>
<script>
    // Call updateSteps with the current step number
    document.addEventListener("DOMContentLoaded", function() {
        updateSteps(3); // Change 3 to any current step dynamically
    });
</script>
    <div class="container">
        <div class="tutor-card" id="tutor-card">
            <img id="tutor-image" class="staff-image" src="" alt="[Tutor Name]">
            <div class="tutor-info">
                <h3 id="tutor-card-name">[Tutor Name]</h3>
                <p id="tutor-subjects">[Subjects List]</p>
            </div>
        </div>
    </div>

    <div class="buttons-container">
        <button class="square-button" onclick="redirectToPrevious()">Back</button>
        <button class="square-button" onclick="redirectToNext()">Next</button>
    </div>

    <script>
        // Tutor data from RecommendedTutor.html
        const tutors = [
            { name: "Dianne Simental", subjects: ["K-8th Math", "Algebra 1", "Geometry", "Algebra 2", "Pre-Calculus", "Biology", "AP Biology","AP Biology Exam", "Chemistry", "Physics", "Spanish", "K-8th English", "SAT Math Sections", "ACT Math Section", "ACT Science Section", "GED Mathematical Reasoning Section", "GED Science Section" ], image: "https://i.imgur.com/X0kdDss.jpeg" },
            { name: "Zarek Cole", subjects: ["Algebra 1", "Geometry", "Algebra 2", "Pre-Calculus","Statistics","AP Statistics", "Calculus 1 (AB)", "Calculus 2 (BC)","Calculus 3","College Algebra","Differential Equations","Abstract Algebra", "Physics", "AP Physics", "Chemistry", "AP Chemistry", "ACT Math Section", "GED Mathematcal Reasoning Section", "TSI Math"], image: "https://i.imgur.com/5Cuh8SZ.png" },
            { name: "Evan Varan", subjects: ["K-8th Math", "Algebra 1", "Geometry", "Algebra 2", "Pre-Calculus","Statistics", "Calculus 1 (AB)", "Calculus 2 (BC)","College Algebra", "Biology", "Chemistry", "Physics", "AP Physics", "SAT Math Sections", "ACT Math Section", "TSI Math Section", "ACT Science Section", "GED Mathematcal Reasoning Section", "GED Science Section", "Computer Science", "Circuits", "Engineering"], image: "https://i.imgur.com/zPiwhDv.png" },
        ];

        document.addEventListener('DOMContentLoaded', () => {
    // Fetch tutor details and selected subjects from localStorage
    const tutorName = localStorage.getItem('selectedTutorName');
    const tutorImage = localStorage.getItem('selectedTutorImage');
    const selectedSubjects = JSON.parse(localStorage.getItem('selectedSubjects')) || [];
    const errorMessageElement = document.getElementById('error-message');
    const differentTutorButton = document.getElementById('different-tutor-btn');

    // Display selected subjects
    const subjectsDisplay = document.getElementById('selected-subjects');
    subjectsDisplay.textContent = selectedSubjects.length
        ? "Selected Subjects: " + selectedSubjects.join(", ")
        : "No subjects selected.";

    // Find the tutor in the data
    const tutor = tutors.find(t => t.name === tutorName);

    if (tutor) {
        // Display tutor's details
        document.getElementById('tutor-name').textContent = tutor.name;
        document.getElementById('tutor-card-name').textContent = tutor.name;
        document.getElementById('tutor-image').src = tutor.image;
        document.getElementById('tutor-image').alt = tutor.name;

        // Filter out subjects the tutor does not teach
        const validSubjects = selectedSubjects.filter(subject => tutor.subjects.includes(subject));
        const invalidSubjects = selectedSubjects.filter(subject => !tutor.subjects.includes(subject));

        // Display error message if there are invalid subjects
        if (invalidSubjects.length > 0) {
            errorMessageElement.textContent = `The selected tutor does not teach the following subjects: ${invalidSubjects.join(", ")}.`;
            errorMessageElement.style.display = "block";
        } else {
            errorMessageElement.style.display = "none";
        }

        // Sort subjects to display valid selected ones first
        const prioritizedSubjects = [
            ...validSubjects,
            ...tutor.subjects.filter(subject => !validSubjects.includes(subject))
        ];

        // Update the tutor's subject card
        document.getElementById('tutor-subjects').textContent = '' + prioritizedSubjects.join(', ');
    } else {
        // Handle case where tutor data is missing
        document.getElementById('tutor-name').textContent = 'Unknown Tutor';
        document.getElementById('tutor-card-name').textContent = 'Unknown Tutor';
        document.getElementById('tutor-image').src = 'default-image.png'; // Replace with a placeholder image
        document.getElementById('tutor-subjects').textContent = 'Subjects: Not available.';
        errorMessageElement.style.display = "block";
        errorMessageElement.textContent = "No tutor information is available.";
    }

    // Always display the "Schedule with a Different Tutor" button
    differentTutorButton.style.display = "block";

    // Redirect to the scheduling page when the button is clicked
    differentTutorButton.addEventListener('click', () => {
        window.location.href = '../MainPages/About.html#redirect-virtual-schedule'; // Redirect to the scheduling page
    });
});





        function redirectToPrevious() {
        // Redirect to the previous page or specific URL
        window.location.href = 'ScheduleNowSubjects.html'; // Replace 'PreviousPage.html' with the actual file name or URL
    }

    function redirectToNext() {
        const studentType = localStorage.getItem('studentType'); // Retrieve the student type

        if (studentType === 'Returning Student') {
            // Redirect returning students to their portal
            window.location.href = 'Student-Portal-First-Time.html';
        } else {
            // Redirect first-time students to account creation
            window.location.href = 'Account-Creation.html';
        }
    }
// Retrieve student type from localStorage
const studentType = localStorage.getItem('studentType');

// Adjust progress dots
document.addEventListener('DOMContentLoaded', () => {
    const progressContainer = document.querySelector('.progress');

    if (studentType === 'Returning Student') {
        // Reduce the number of dots to 4 for Returning Students
        progressContainer.innerHTML = `
            <span class="dot"></span>
            <span class="dot"></span>
            <span class="dot active"></span>
            <span class="dot"></span>
        `;
    }
});


    </script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
    const errorMessageElement = document.getElementById('error-message');
    const nextButton = document.querySelector('.buttons-container button:last-child'); // Select the "Next" button

    // Function to check if the error message is displayed and hide the Next button
    function toggleNextButton() {
        if (errorMessageElement.textContent.includes("The selected tutor does not teach")) {
            nextButton.style.display = "none"; // Hide the Next button
        } else {
            nextButton.style.display = "inline-block"; // Show the Next button
        }
    }

    // Run check on page load
    toggleNextButton();
});

        </script>
</body>
</html>
