<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recommended Tutors | From the Heart Tutoring</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../Navbar/Navbar.css"> <!-- Link to navbar CSS -->
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f7f9fc;
        }
        body::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1; /* Keep it behind the content */
    background-image: 
        url('https://i.imgur.com/YXXdLF8.png'), /* Left Heart */
        url('https://i.imgur.com/YXXdLF8.png'); /* Right Heart */
    background-repeat: no-repeat, no-repeat;
    background-position: calc(15% - 175px) 400px, calc(85% + 175px) 400px; /* Ensure even spacing */
    background-size: 15vw, 15vw; /* Scale with viewport */
    opacity: 0.5; /* Adjust transparency */
}

@media (max-width: 1200px) {
    body::before {
        background-image: none; /* Remove the images */
    }
}


        /* Hero Section */
        .hero {
            width: 100%;
            background-color: #1e293b;
            color: white;
            text-align: center;
            padding: 60px 20px;
            margin: 0;
        }

        .hero h1 {
            font-size: 2.5rem;
            margin-bottom: 20px;
        }

        .hero p {
            font-size: 1.2rem;
        }

        .hero .subjects {
            margin-top: 10px;
            font-size: 1rem;
            font-weight: bold;
            color: #ff6f61;
        }

        /* Progress Dots */
        .progress {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }

        .dot {
            width: 20px;
            height: 20px;
            margin: 0 8px;
            background-color: #d1d1d1;
            border-radius: 50%;
        }

        .dot.active {
            background-color: #ff6f61;
        }

        /* Tutor Cards */
        .container {
            width: 90%;
            max-width: 1200px;
            margin-top: 20px;
        }

        .tutor-card {
            background-color: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            transition: transform 0.3s, box-shadow 0.3s, background-color 0.3s;
            cursor: pointer;
        }

        .tutor-card:hover {
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
            background-color: #ffeae6; /* Light red highlight */
        }

        .tutor-card.selected {
            background-color: #a6d4fa; /* Softer blue for selected cards */
            color: black;
            border: 2px solid black; /* Slightly darker border for contrast */
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }



        .tutor-info a {
            color: #1e293b; /* Blue from your website */
            text-decoration: none;
            font-weight: bold;
            font-size: 1.1rem;
            transition: font-weight 0.3s, color 0.3s;
        }

        .tutor-card:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
            background-color: #dceffd; /* Light blue highlight */
        }
        .tutor-info a:hover {
            text-decoration: underline; /* Add underline on hover */
            color: #ff6f61; /* Change color for hover */
        }


        .tutor-card.selected .tutor-info a:hover {
            color: #f7f7f7; /* Light gray hover for links on selected cards */
            text-decoration: underline;
        }




        .tutor-card img {
            width: 100px; /* Adjusted size for better proportion */
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            flex-shrink: 0; /* Ensures the image doesn't shrink when resizing */
        }

        .tutor-info {
            flex-grow: 1;
            margin-left: 15px;
        }

        .tutor-info h3 {
            margin: 0;
            color: inherit;
        }

        .tutor-info p {
            margin: 5px 0;
            color: inherit;
        }
        .tutor-info p strong {
            /*content: "Subjects:";  Dynamically adds "Subjects:" */
            display: inline-block; /* Badge-like appearance */
            background-color: #1e293b; /* Highlighted background */
            color: white; /* White text for contrast */
            font-size: 0.9rem; /* Slightly smaller than the list */
            font-weight: bold; /* Makes it stand out */
            padding: 3px 8px; /* Adds spacing inside the badge */
            border-radius: 12px; /* Rounded design */
            margin-right: 8px; /* Space between "Subjects:" and the list */
            vertical-align: middle; /* Aligns with the list text */
        }

        .buttons-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px auto;
        }

        .button {
            background-color: #ff6f61;
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.3s;
        }

        .button:hover {
            background-color: #d9574e;
            transform: scale(1.05);
        }

        .error-message {
            color: #ff6f61;
            font-size: 1rem;
            text-align: center;
            margin-top: 10px;
            display: none;
        }
        .widget-wrapper {
            display: flex;
            flex-direction: column; /* Stack content vertically */
            align-items: center; /* Center all elements horizontally */
            padding-top: 70px; /* Space below the navbar */
            gap: 20px; /* Space between stacked elements */
        }

        .content {
            width: auto; /* Allow the widget to size itself */
        }
       
    </style>
</head>
<body>
    
<!-- Navbar Placeholder -->
<div id="navbar-placeholder"></div>

<!-- JavaScript to Load Navbar -->
<script src="../Navbar/Navbar.js" defer></script>
    <!-- Hero Section -->
    <div class="hero" >
        <h1>Select a Tutor</h1>
        <p>Based on your selected subjects, here are the best matches for you.</p>
        <div class="subjects" id="selected-subjects"></div>
    </div>
    <!-- Progress Dots -->
    <div class="progress">
        <span class="dot"></span>
        <span class="dot"></span>
        <span class="dot active"></span>
        <span class="dot"></span>
        <span class="dot"></span>
    </div>

    <div class="widget-wrapper">
        <div class="container">
            <div id="tutor-container"></div>
            <div class="no-results" id="no-results" style="display: none;">No tutors found for your selected subjects.</div>
        </div>
    </div>

    <!-- Error Message -->
    <div class="error-message" id="error-message">Please select a tutor before proceeding.</div>

    <!-- Buttons -->
    <div class="buttons-container">
        <button class="button" onclick="redirectToPreviousPage()">Back</button>
        <button class="button" onclick="redirectToNext()">Next</button>
    </div>

    <script>
        // Retrieve student type from localStorage
        const studentType = localStorage.getItem('studentType');

        // Adjust progress dots
        document.addEventListener('DOMContentLoaded', () => {
            const progressContainer = document.querySelector('.progress');

            if (studentType === 'Returning Student') {
                // Reduce the number of dots to 4 for Returning Students
                progressContainer.innerHTML = `
                    <span class="dot"></span>
                    <span class="dot"></span>
                    <span class="dot active"></span>
                    <span class="dot"></span>
                `;
            }
        });
        const tutors = [
            { name: "Dianne Simental", subjects: ["K-8th Math", "Algebra 1", "Geometry", "Algebra 2", "Pre-Calculus", "Biology", "AP Biology","AP Biology Exam", "Chemistry", "Physics", "Spanish", "K-8th English", "SAT Math Sections", "ACT Math Section", "ACT Science Section", "GED Mathematical Reasoning Section", "GED Science Section" ], image: "https://i.imgur.com/X0kdDss.jpeg" },
            { name: "Zarek Cole", subjects: ["Algebra 1", "Geometry", "Algebra 2", "Pre-Calculus","Statistics","AP Statistics", "Calculus 1 (AB)", "Calculus 2 (BC)","Calculus 3","College Algebra","Differential Equations","Abstract Algebra", "Physics", "AP Physics", "Chemistry", "AP Chemistry", "ACT Math", "GED Math", "TSI Math"
], image: "https://i.imgur.com/5Cuh8SZ.png" },
            { name: "Evan Varan", subjects: ["K-8th Math", "Algebra 1", "Geometry", "Algebra 2", "Pre-Calculus", "Calculus 1 (AB)", "Calculus 2 (BC)","College Algebra", "Biology", "Chemistry", "Physics", "AP Physics", "SAT Math", "ACT Math", "TSI Math", "ACT Science", "GED Math", "GED Science", "Computer Science", "Circuits", "Engineering"
            ], image: "https://i.imgur.com/zPiwhDv.png" },
        ];

        const selectedSubjects = JSON.parse(localStorage.getItem("selectedSubjects")) || [];
        const selectedTutor = { name: null }; // Store selected tutor
        const container = document.getElementById("tutor-container");
        const errorMessage = document.getElementById("error-message");

        // Display selected subjects in hero
        const subjectsDisplay = document.getElementById("selected-subjects");
        subjectsDisplay.textContent = selectedSubjects.length
            ? "Selected Subjects: " + selectedSubjects.join(", ")
            : "No subjects selected.";

        // Filter tutors based on selected subjects
        const matchingTutors = tutors.filter(tutor =>
            selectedSubjects.every(subject => tutor.subjects.includes(subject))
        );
        // Sort the tutor's subjects to list selected subjects first
        function sortSubjects(tutorSubjects, selectedSubjects) {
            const selectedFirst = tutorSubjects.filter(subject => selectedSubjects.includes(subject));
            const remaining = tutorSubjects.filter(subject => !selectedSubjects.includes(subject));
            return [...selectedFirst, ...remaining];
        }

        // Display tutors
        matchingTutors.forEach(tutor => {
    const sortedSubjects = sortSubjects(tutor.subjects, selectedSubjects); // Sort subjects
    const card = document.createElement("div");
    card.classList.add("tutor-card");
    card.innerHTML = `
        <img src="${tutor.image}" alt="${tutor.name}">
        <div class="tutor-info">
            <h3>${tutor.name}</h3>
            <p><strong>Subjects:</strong> ${sortedSubjects.join(", ")}</p>
            <a href="../TutorAboutPages/${tutor.name.replace(/\s+/g, "")}.html" target="_blank" style="color: #1e293b;">Read more about me here</a>
        </div>
    `;
    card.onclick = () => selectTutor(card, tutor.name); // Select the tutor
    container.appendChild(card);
});


        // Select a tutor
        function selectTutor(card, name) {
    // Check if the card is already selected
            if (card.classList.contains("selected")) {
                // Deselect the card
                card.classList.remove("selected");
                selectedTutor.name = null; // Clear the selected tutor
            } else {
            // Deselect previously selected tutor
            document.querySelectorAll(".tutor-card").forEach(c => c.classList.remove("selected"));

            // Select the new tutor
            card.classList.add("selected");
            selectedTutor.name = name;
    }
}

        // Redirect to the next page
        function redirectToNext() {
            if (!selectedTutor.name) {
                errorMessage.style.display = "block"; // Show error message if no tutor is selected
                return;
            }

            errorMessage.style.display = "none"; // Hide error message if a tutor is selected

            const studentType = localStorage.getItem('studentType');
            localStorage.setItem("selectedTutor", selectedTutor.name); // Store selected tutor

            if (studentType === 'Returning Student') {
                window.location.href = "Student-Portal-First-Time.html"; // Redirect returning students
            } else {
                window.location.href = "Account-Creation.html"; // Redirect first-time students
            }
        }

        // Redirect to the previous page
        function redirectToPreviousPage() {
            window.location.href = "ScheduleNowSubjects.html";
        }
    </script>
</body>
</html>
